(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(34)},26:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),i=n(18),u=n.n(i),d=(n(26),n(4)),l=n(5),s=n(7),D=n(6),g=n(8),p=n(2),f=n(10),b=n(20),h=n(1);!function(e){e.DRAW_CARD="DRAW_CARD",e.DISCARD_CARD="DISCARD_CARD",e.DRAGGING_CARD_START="DRAGGING_CARD_START",e.DRAGGING_CARD_END="DRAGGING_CARD_END"}(r||(r={})),function(e){e.INIT_DECK="INIT_DECK",e.SHUFFLE_DECK="SHUFFLE_DECK",e.POP_DECK="POP_DECK"}(a||(a={}));var O=n(12),C=Object(O.a)([function(e){return e.deck}],function(e){return e.cards}),v=function(e){return e.hand},A=Object(O.a)([v],function(e){return e.cards}),j=Object(O.a)([v],function(e){return e.draggingTarget});function y(){return function(e,t){var n,c=t();if(function(e){return C(e).length>0}(c)){var o=C(c)[0];e((n=o,{type:r.DRAW_CARD,card:n})),e({type:a.POP_DECK})}}}function E(e){return{type:r.DISCARD_CARD,targetIndex:e}}function R(){return{type:r.DRAGGING_CARD_END}}function _(e){return function(t){t(function(e){return{type:r.DRAGGING_CARD_START,targetIndex:e}}(e))}}function m(e){return function(e,t){var n=j(t());null!==n&&(e(E(n)),e(R()))}}function I(){return{type:a.INIT_DECK}}function k(){return{type:a.SHUFFLE_DECK}}var G={cards:[],draggingTarget:null};var T={SPADE:{icon:"\u2660",color:"black"},DIAMOND:{icon:"\u25c6",color:"red"},HEART:{icon:"\u2665",color:"red"},CLUB:{icon:"\u2663",color:"black"}},N=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],S=["SPADE","DIAMOND","HEART","CLUB"].map(function(e){return N.map(function(t,n){return{name:"".concat(T[e].icon," ").concat(t),category:e,subCategory:n+1}})}).reduce(function(e,t){return e.concat(t)}),w={cards:[]};var x=Object(p.c)({hand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=e.cards;switch(t.type){case r.DRAW_CARD:return Object(h.a)({},e,{cards:n.concat(t.card)});case r.DISCARD_CARD:return Object(h.a)({},e,{cards:n.slice(0,t.targetIndex).concat(n.slice(t.targetIndex+1))});case r.DRAGGING_CARD_START:return Object(h.a)({},e,{draggingTarget:t.targetIndex});case r.DRAGGING_CARD_END:return Object(h.a)({},e,{draggingTarget:null});default:return e}},deck:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0,r=t.cards;switch(n.type){case a.POP_DECK:return Object(h.a)({},t,{cards:r.slice(1)});case a.SHUFFLE_DECK:return Object(h.a)({},t,{cards:(e=r,Array.from(Array(e.length)).map(function(t,n){var r=Math.floor(Math.random()*n),a=e[n];e[n]=e[r],e[r]=a}),e)});case a.INIT_DECK:return Object(h.a)({},t,{cards:S});default:return t}}}),K={hand:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},hand_card:{width:"100px",height:"150px",border:"1px solid grey",borderRadius:"10px",backgroundColor:"white",marginRight:"10px",userSelect:"none"}},L=n(3),P=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(s.a)(this,Object(D.a)(t).call(this,e))).state={hoveringDirection:-1},n.onDrop=n.onDrop.bind(Object(L.a)(Object(L.a)(n))),n.onDragOver=n.onDragOver.bind(Object(L.a)(Object(L.a)(n))),n.onDragLeave=n.onDragLeave.bind(Object(L.a)(Object(L.a)(n))),n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"onDragOver",value:function(e,t){e.preventDefault(),this.setState({hoveringDirection:t})}},{key:"onDragLeave",value:function(e){e.preventDefault(),this.setState({hoveringDirection:-1})}},{key:"onDrop",value:function(e){this.setState({hoveringDirection:-1}),this.props.dropCard(e)}},{key:"render",value:function(){var e=this,t=this.state.hoveringDirection,n=this.props.draggingTarget,r=["0,0","".concat(200,",0"),"".concat(200,",").concat(200),"0,".concat(200),"0,0"],a="".concat(100,",").concat(100);return c.createElement("svg",{width:200,height:200,style:{opacity:null===n?0:1}},Array.from(Array(4)).map(function(n,o){return c.createElement("polygon",{points:"".concat(r[o]," ").concat(r[o+1]," ").concat(a),style:{fill:t===o?"green":"grey"},key:o,onDragOver:function(t){e.onDragOver(t,o)},onDrop:function(){return e.onDrop(o)},onDragLeave:e.onDragLeave})}))}}]),t}(c.Component),F=function(e){function t(){return Object(d.a)(this,t),Object(s.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.hand,r=t.draggingTarget;return c.createElement(c.Fragment,null,c.createElement(P,this.props),c.createElement("div",{style:K.hand},null===r?c.createElement("p",{style:Object(h.a)({},K.hand_card,{backgroundColor:"blue"}),onClick:this.props.drawCardIfCould},"draw"):c.createElement("p",{style:Object(h.a)({},K.hand_card,{backgroundColor:"grey"}),onDragOver:function(e){e.preventDefault()},onDrop:function(){return e.props.dropCard(-1)}},"discard"),n.map(function(t,n){return c.createElement("p",{style:K.hand_card,key:n,draggable:!0,onDragStart:function(){return e.props.dragCard(n)},onDragEnd:e.props.draggingCardEnd},"".concat(t.name))})))}}]),t}(c.Component);var H=Object(f.b)(function(e){return{hand:A(e),draggingTarget:j(e)}},function(e){return Object(p.b)({drawCardIfCould:y,discardCard:E,draggingCardEnd:R,dragCard:_,dropCard:m},e)})(F),U=function(e){function t(){return Object(d.a)(this,t),Object(s.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeDeck(),this.props.shuffleDeck()}},{key:"render",value:function(){return c.createElement("div",null)}}]),t}(c.Component);var M=Object(f.b)(function(e){return{deck:C(e)}},function(e){return Object(p.b)({initializeDeck:I,shuffleDeck:k},e)})(U),W=(n(32),function(e){function t(){return Object(d.a)(this,t),Object(s.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.createElement(f.a,{store:Object(p.d)(x,Object(p.a)(b.a))},c.createElement("div",{className:"App"},c.createElement(M,null),c.createElement(H,null)))}}]),t}(c.Component));u.a.render(o.a.createElement(W,null),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.2a242261.chunk.js.map