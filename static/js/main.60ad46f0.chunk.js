(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t){},22:function(e,t,n){e.exports=n(36)},27:function(e,t,n){},33:function(e,t,n){"use strict";n(19)},34:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r,o=n(0),a=n.n(o),c=n(20),i=n.n(c),u=(n(27),n(6)),s=n(7),E=n(9),l=n(8),p=n(10),d=n(1),O=n(3),f=n(2),_=function(e){return e.snake},L=Object(f.a)([_],function(e){return e.head}),m=(Object(f.a)([_],function(e){return e.head.posX}),Object(f.a)([_],function(e){return e.head.posY}),Object(f.a)([_],function(e){return e.tails})),b=Object(f.a)([_],function(e){return e.isGameOver}),v=Object(f.a)([_],function(e){return e.score}),A=function(e){return e.grid},h=Object(f.a)([A],function(e){return e.grid}),j=Object(f.a)([A],function(e){return e.item});!function(e){e.MOVE_HEAD="MOVE_HEAD",e.POP_TAILS="POP_TAILS",e.PUSH_TAILS="PUSH_TAILS",e.TOGGLE_GAME_OVER="TOGGLE_GAME_OVER",e.INCREMENT_SCORE="INCREMENT_SCORE"}(r||(r={}));var y;n(33);!function(e){e.SET_CELL="SET_CELL",e.INIT_GRID="INIT_GRID",e.RANDOM_PUT_ITEM="RANDOM_PUT_ITEM"}(y||(y={}));var N,T=[10,10];function I(e){return{type:r.PUSH_TAILS,targetPos:e}}function C(e){return{type:r.MOVE_HEAD,targetPos:e}}function S(){return{type:r.TOGGLE_GAME_OVER}}function M(e,t,n){return function(o){o(w(t,N.CELL_SNAKE_HEAD)),o(C(t)),void 0===n?o(w(e,N.CELL_BLANK)):(o(w(e,N.CELL_SNAKE_BODY)),o(w(n,N.CELL_BLANK)),o(I(e)),o({type:r.POP_TAILS}))}}function g(e,t){return function(n){n(w(e,N.CELL_SNAKE_BODY)),n(w(t,N.CELL_SNAKE_HEAD)),n(C(t)),n(I(e)),n(G()),n({type:r.INCREMENT_SCORE})}}function D(e){return function(t,n){var r=n(),o=L(r),a=function(){switch(e){case 37:return{posX:o.posX-1,posY:o.posY};case 38:return{posX:o.posX,posY:o.posY-1};case 39:return{posX:o.posX+1,posY:o.posY};case 40:return{posX:o.posX,posY:o.posY+1};default:return o}}();if(function(e,t,n){return!(t.posY<0||t.posY>=T[0])&&!(t.posX<0||t.posX>=T[1])&&e>=37&&e<=40}(e,a)){var c=h(r)[a.posY][a.posX];if(c===N.CELL_BLANK){var i=m(r)[0];t(M(o,a,i))}else c===N.CELL_SNAKE_ITEM?t(g(o,a)):t(S())}else t(S())}}function w(e,t){return{type:y.SET_CELL,position:e,cellType:t}}function G(){return{type:y.RANDOM_PUT_ITEM}}function K(e){return{type:y.INIT_GRID,head:e}}!function(e){e[e.CELL_BLANK=0]="CELL_BLANK",e[e.CELL_SNAKE_HEAD=1]="CELL_SNAKE_HEAD",e[e.CELL_SNAKE_BODY=2]="CELL_SNAKE_BODY",e[e.CELL_SNAKE_ITEM=3]="CELL_SNAKE_ITEM"}(N||(N={}));var Y=function(e){function t(){return Object(u.a)(this,t),Object(E.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.head;this.props.initializeGrid(e),this.props.randomPutItem()}},{key:"render",value:function(){var e=this.props,t=e.head,n=e.tails,r=e.item,a=e.isGameOver,c=e.score;return o.createElement("div",{style:{width:"".concat(20*T[1],"px"),height:"".concat(20*T[0],"px"),border:"2px solid grey"}},a?o.createElement(o.Fragment,null,o.createElement("p",null,"Game"),o.createElement("p",null,"Set"),o.createElement("p",null,"Score: ".concat(c))):o.createElement(o.Fragment,null,o.createElement(X,null),o.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"black",top:20*t.posY,left:20*t.posX}}),n.map(function(e,t){return o.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"grey",top:20*e.posY,left:20*e.posX},key:t})}),o.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"red",top:20*r.posY,left:20*r.posX}})))}}]),t}(o.Component);var k=Object(O.b)(function(e){return{head:L(e),tails:m(e),item:j(e),isGameOver:b(e),score:v(e)}},function(e){return Object(d.b)({initializeGrid:K,randomPutItem:G},e)})(Y),P=n(12),R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(E.a)(this,Object(l.a)(t).call(this,e))).onKeyDown=n.onKeyDown.bind(Object(P.a)(Object(P.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onKeyDown",value:function(e){this.props.keydownMoveHeadIfNeeded(e.keyCode)}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return o.createElement("div",null)}}]),t}(o.Component);var X=Object(O.b)(function(e){return{}},function(e){return Object(d.b)({keydownMoveHeadIfNeeded:D,initializeGrid:K},e)})(R),H=n(13),x=n(4),B={head:{posX:0,posY:0},tails:[],isGameOver:!1,score:0};var U={grid:[],item:{posX:0,posY:0}};var V=Object(d.c)({snake:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=e.tails,o=e.score;switch(t.type){case r.MOVE_HEAD:return Object(x.a)({},e,{head:t.targetPos});case r.POP_TAILS:return Object(x.a)({},e,{tails:n.slice(1)});case r.PUSH_TAILS:return Object(x.a)({},e,{tails:n.concat(t.targetPos)});case r.TOGGLE_GAME_OVER:return Object(x.a)({},e,{isGameOver:!0});case r.INCREMENT_SCORE:return Object(x.a)({},e,{score:o+1});default:return e}},grid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SET_CELL:var n=e.grid;return n[t.position.posY][t.position.posX]=t.cellType,Object(x.a)({},e,{grid:n});case y.INIT_GRID:var r=Array.from(Array(T[0])).map(function(e,n){return Array.from(Array(T[1])).map(function(e,r){return n===t.head.posY&&r===t.head.posX?N.CELL_SNAKE_HEAD:N.CELL_BLANK})});return Object(x.a)({},e,{grid:r});case y.RANDOM_PUT_ITEM:for(var o=e.grid,a=0,c=0;;)if(c=Math.floor(Math.random()*T[0]),a=Math.floor(Math.random()*T[1]),o[c][a]===N.CELL_BLANK){o[c][a]=N.CELL_SNAKE_ITEM;break}return{grid:o,item:{posX:a,posY:c}};default:return e}}}),z=(n(34),function(e){function t(){return Object(u.a)(this,t),Object(E.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.createElement("div",null,o.createElement(O.a,{store:Object(d.d)(V,Object(d.a)(H.a))},o.createElement("div",{className:"App"},o.createElement(k,null))),o.createElement(O.a,{store:Object(d.d)(V,Object(d.a)(H.a))},o.createElement("div",{className:"App"},o.createElement(k,null)))),o.createElement("div",null,o.createElement(O.a,{store:Object(d.d)(V,Object(d.a)(H.a))},o.createElement("div",{className:"App"},o.createElement(k,null))),o.createElement(O.a,{store:Object(d.d)(V,Object(d.a)(H.a))},o.createElement("div",{className:"App"},o.createElement(k,null)))))}}]),t}(o.Component));i.a.render(a.a.createElement(z,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.60ad46f0.chunk.js.map