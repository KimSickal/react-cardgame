(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t){},22:function(e,t,n){e.exports=n(36)},27:function(e,t,n){},33:function(e,t,n){"use strict";n(19)},34:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var o,r=n(0),a=n.n(r),c=n(20),i=n.n(c),s=(n(27),n(6)),u=n(7),l=n(9),E=n(8),p=n(10),d=n(1),L=n(4),O=n(2),f=function(e){return e.snake},_=Object(O.a)([f],function(e){return e.head}),b=(Object(O.a)([f],function(e){return e.head.posX}),Object(O.a)([f],function(e){return e.head.posY}),Object(O.a)([f],function(e){return e.tails})),m=Object(O.a)([f],function(e){return e.isGameOver}),h=Object(O.a)([f],function(e){return e.score}),A=function(e){return e.grid},v=Object(O.a)([A],function(e){return e.grid}),j=Object(O.a)([A],function(e){return e.item}),N=Object(O.a)([A],function(e){return e.block});!function(e){e.MOVE_HEAD="MOVE_HEAD",e.POP_TAILS="POP_TAILS",e.PUSH_TAILS="PUSH_TAILS",e.TOGGLE_GAME_OVER="TOGGLE_GAME_OVER",e.INCREMENT_SCORE="INCREMENT_SCORE"}(o||(o={}));var y;n(33);!function(e){e.SET_CELL="SET_CELL",e.INIT_GRID="INIT_GRID",e.RANDOM_PUT_ITEM="RANDOM_PUT_ITEM"}(y||(y={}));var C,S=[10,10];function T(e){return{type:o.PUSH_TAILS,targetPos:e}}function I(e){return{type:o.MOVE_HEAD,targetPos:e}}function M(){return{type:o.TOGGLE_GAME_OVER}}function g(e,t,n){return function(r){r(w(t,C.CELL_SNAKE_HEAD)),r(I(t)),void 0===n?r(w(e,C.CELL_BLANK)):(r(w(e,C.CELL_SNAKE_BODY)),r(w(n,C.CELL_BLANK)),r(T(e)),r({type:o.POP_TAILS}))}}function K(e,t){return function(n){n(w(e,C.CELL_SNAKE_BODY)),n(w(t,C.CELL_SNAKE_HEAD)),n(I(t)),n(T(e)),n(D()),n({type:o.INCREMENT_SCORE})}}function k(e){return function(t,n){var o=n(),r=_(o),a=function(){switch(e){case 37:return{posX:r.posX-1,posY:r.posY};case 38:return{posX:r.posX,posY:r.posY-1};case 39:return{posX:r.posX+1,posY:r.posY};case 40:return{posX:r.posX,posY:r.posY+1};default:return}}();if(void 0!==a&&null!==a)if(function(e,t,n){return!(t.posY<0||t.posY>=S[0])&&!(t.posX<0||t.posX>=S[1])&&e>=37&&e<=40}(e,a)){var c=v(o)[a.posY][a.posX];if(c===C.CELL_BLANK){var i=b(o)[0];t(g(r,a,i))}else c===C.CELL_SNAKE_ITEM?t(K(r,a)):t(M())}else t(M())}}function w(e,t){return{type:y.SET_CELL,position:e,cellType:t}}function D(){return{type:y.RANDOM_PUT_ITEM}}function Y(e){return{type:y.INIT_GRID,head:e}}!function(e){e[e.CELL_BLANK=0]="CELL_BLANK",e[e.CELL_SNAKE_HEAD=1]="CELL_SNAKE_HEAD",e[e.CELL_SNAKE_BODY=2]="CELL_SNAKE_BODY",e[e.CELL_SNAKE_ITEM=3]="CELL_SNAKE_ITEM",e[e.CELL_SNAKE_BLOCK=4]="CELL_SNAKE_BLOCK"}(C||(C={}));var G=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.head;this.props.initializeGrid(e),this.props.randomPutItem()}},{key:"render",value:function(){var e=this.props,t=e.head,n=e.tails,o=e.item,a=e.block,c=e.isGameOver,i=e.score;return r.createElement("div",{style:{width:"".concat(20*S[1],"px"),height:"".concat(20*S[0],"px"),border:"2px solid grey"}},c?r.createElement(r.Fragment,null,r.createElement("p",null,"Game"),r.createElement("p",null,"Set"),r.createElement("p",null,"Score: ".concat(i))):r.createElement(r.Fragment,null,r.createElement(B,null),r.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"black",top:20*t.posY,left:20*t.posX}}),n.map(function(e,t){return r.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"grey",top:20*e.posY,left:20*e.posX},key:t})}),r.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"green",top:20*o.posY,left:20*o.posX}}),r.createElement("div",{style:{position:"absolute",width:"".concat(20,"px"),height:"".concat(20,"px"),background:"red",top:20*a.posY,left:20*a.posX,color:"white",fontWeight:"bold"}},"X")))}}]),t}(r.Component);var X=Object(L.b)(function(e){return{head:_(e),tails:b(e),item:j(e),block:N(e),isGameOver:m(e),score:h(e)}},function(e){return Object(d.b)({initializeGrid:Y,randomPutItem:D},e)})(G),P=n(12),R=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(E.a)(t).call(this,e))).onKeyDown=n.onKeyDown.bind(Object(P.a)(Object(P.a)(n))),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onKeyDown",value:function(e){this.props.keydownMoveHeadIfNeeded(e.keyCode)}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return r.createElement("div",null)}}]),t}(r.Component);var B=Object(L.b)(function(e){return{}},function(e){return Object(d.b)({keydownMoveHeadIfNeeded:k,initializeGrid:Y},e)})(R),H=n(13),x=n(3),U={head:{posX:0,posY:0},tails:[],isGameOver:!1,score:0};var V={grid:[],item:{posX:0,posY:0},block:{posX:0,posY:0}};var z=Object(d.c)({snake:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=e.tails,r=e.score;switch(t.type){case o.MOVE_HEAD:return Object(x.a)({},e,{head:t.targetPos});case o.POP_TAILS:return Object(x.a)({},e,{tails:n.slice(1)});case o.PUSH_TAILS:return Object(x.a)({},e,{tails:n.concat(t.targetPos)});case o.TOGGLE_GAME_OVER:return Object(x.a)({},e,{isGameOver:!0});case o.INCREMENT_SCORE:return Object(x.a)({},e,{score:r+1});default:return e}},grid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.SET_CELL:var n=e.grid;return n[t.position.posY][t.position.posX]=t.cellType,Object(x.a)({},e,{grid:n});case y.INIT_GRID:var o=Array.from(Array(S[0])).map(function(e,n){return Array.from(Array(S[1])).map(function(e,o){return n===t.head.posY&&o===t.head.posX?C.CELL_SNAKE_HEAD:C.CELL_BLANK})});return Object(x.a)({},e,{grid:o});case y.RANDOM_PUT_ITEM:for(var r=e.grid,a=e.block,c=0,i=0,s=0,u=0;;)if(i=Math.floor(Math.random()*S[0]),c=Math.floor(Math.random()*S[1]),r[i][c]===C.CELL_BLANK){r[i][c]=C.CELL_SNAKE_ITEM;break}for(;;)if(u=Math.floor(Math.random()*S[0]),s=Math.floor(Math.random()*S[1]),r[u][s]===C.CELL_BLANK){r[u][s]=C.CELL_SNAKE_BLOCK,r[a.posY][a.posX]=C.CELL_BLANK;break}return Object(x.a)({},e,{grid:r,item:{posX:c,posY:i},block:{posX:s,posY:u}});default:return e}}}),F=(n(34),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement("div",null,r.createElement(L.a,{store:Object(d.d)(z,Object(d.a)(H.a))},r.createElement("div",{className:"App"},r.createElement(X,null))),r.createElement(L.a,{store:Object(d.d)(z,Object(d.a)(H.a))},r.createElement("div",{className:"App"},r.createElement(X,null)))),r.createElement("div",null,r.createElement(L.a,{store:Object(d.d)(z,Object(d.a)(H.a))},r.createElement("div",{className:"App"},r.createElement(X,null))),r.createElement(L.a,{store:Object(d.d)(z,Object(d.a)(H.a))},r.createElement("div",{className:"App"},r.createElement(X,null)))))}}]),t}(r.Component));i.a.render(a.a.createElement(F,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.3ee1739d.chunk.js.map